{"version":3,"file":"block-games-box/view.js","mappings":"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","sources":["webpack://blocks-gamestore/external window \"React\"","webpack://blocks-gamestore/webpack/bootstrap","webpack://blocks-gamestore/./src/block-games-box/view.js"],"sourcesContent":["module.exports = window[\"React\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","const { act } = require(\"react\");\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n\tconst filterForm = document.querySelector('.games-filter form');\r\n\tconst sortingForm = document.querySelector('.custom-sort form');\r\n\tconst loadMoreButton = document.querySelector('.load-more-container');\r\n\tlet currentPage = 1;\r\n\r\n\tfilterForm.addEventListener('change', function () {\r\n\t\tcurrentPage = 1;\r\n\t\tsubmitForm(false);\r\n\t});\r\n\r\n\tsortingForm.addEventListener('change', function () {\r\n\t\tcurrentPage = 1;\r\n\t\tsubmitForm(false);\r\n\t});\r\n\r\n\tfilterForm.addEventListener('reset', function () {\r\n\t\tcurrentPage = 1;\r\n\t\tsetTimeout(() => {\r\n\t\t\tsubmitForm(false);\r\n\t\t}, 100);\r\n\t});\r\n\r\n\tloadMoreButton.addEventListener('click', function () {\r\n\t\tcurrentPage++;\r\n\t\tsubmitForm(true);\r\n\t});\r\n\r\n\tfunction submitForm(append = false) {\r\n\t\tconst formData = new FormData(filterForm); \r\n\t\tconst formSortingData = new FormData(sortingForm);\r\n\r\n\t\tconst selectedLanguages = [];\r\n    document.querySelectorAll('input[name^=\"language-\"]:checked').forEach((checkbox)=> {\r\n      selectedLanguages.push(checkbox.name.replace('language-',''));\r\n    })\r\n\r\n    const selectedGenres = [];\r\n    document.querySelectorAll('input[name^=\"genre-\"]:checked').forEach((checkbox)=> {\r\n      selectedGenres.push(checkbox.name.replace('genre-',''));\r\n    })\r\n\r\n\t\t// formData.append('page', currentPage);\r\n\r\n\t\t// const queryString = new URLSearchParams(formData).toString();\r\n\r\n\t\tfetch(gamestore_params.ajaxurl, {\r\n\t\t\tmethod: 'POST',\r\n      body: new URLSearchParams({\r\n        action: 'filter_games',\r\n        page: currentPage,\r\n        post_per_page: formData.get('posts_per_page'),\r\n        platforms: formData.get('platforms'),\r\n        publisher: formData.get('publisher'),\r\n        singleplayer: formData.get('singleplayer'),\r\n        released: formData.get('released'),\r\n        languages: selectedLanguages.join(','),\r\n        genres: selectedGenres.join(','),\r\n\t\t\t\tsort: formSortingData.get('sorting'),\r\n      })\r\n\t\t})\r\n\t\t\t.then(response => response.text())\r\n\t\t\t.then(data => {\r\n\t\t\t\tconst gamesListContainer = document.querySelector('.games-list');\r\n\t\t\t\tif(append) {\r\n\t\t\t\t\tgamesListContainer.innerHTML += data;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgamesListContainer.innerHTML = data;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t.catch(error => console.error('Error:', error));\r\n\t}\r\n});"],"names":["act","require","document","addEventListener","filterForm","querySelector","sortingForm","loadMoreButton","currentPage","submitForm","setTimeout","append","formData","FormData","formSortingData","selectedLanguages","querySelectorAll","forEach","checkbox","push","name","replace","selectedGenres","fetch","gamestore_params","ajaxurl","method","body","URLSearchParams","action","page","post_per_page","get","platforms","publisher","singleplayer","released","languages","join","genres","sort","then","response","text","data","gamesListContainer","innerHTML","catch","error","console"],"sourceRoot":""}